<!DOCTYPE html>
<meta charset="utf-8">
<head>
  <link rel="stylesheet" href="styles/styles.css">
</head>

<body>

<div>
  Hi there!
</div>

<div id="vega_chart">
  <!-- define the graph layout-->
  <!-- <svg id="vega_01" width="960" height="500"></svg> -->
</div>

<div id="vega_lite_chart">
  <!-- define the graph layout-->
  <!-- <svg id="vega_01" width="960" height="500"></svg> -->
</div>

<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vega@4.0.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@2.6.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@3.16.1"></script>

<!-- Vega script -->
<script>
  var chart_spec = {
      "$schema": "https://vega.github.io/schema/vega/v4.json",
      "width": 500,
      "height": 200,
      "padding": 5,

      "data": [
        {
          "name": "table",
          "values": [
            {"x": 0, "y": 28, "c":0}, {"x": 0, "y": 55, "c":1},
            {"x": 1, "y": 43, "c":0}, {"x": 1, "y": 91, "c":1},
            {"x": 2, "y": 81, "c":0}, {"x": 2, "y": 53, "c":1},
            {"x": 3, "y": 19, "c":0}, {"x": 3, "y": 87, "c":1},
            {"x": 4, "y": 52, "c":0}, {"x": 4, "y": 48, "c":1},
            {"x": 5, "y": 24, "c":0}, {"x": 5, "y": 49, "c":1},
            {"x": 6, "y": 87, "c":0}, {"x": 6, "y": 66, "c":1},
            {"x": 7, "y": 17, "c":0}, {"x": 7, "y": 27, "c":1},
            {"x": 8, "y": 68, "c":0}, {"x": 8, "y": 16, "c":1},
            {"x": 9, "y": 49, "c":0}, {"x": 9, "y": 15, "c":1}
          ],
          "transform": [
            {
              "type": "stack",
              "groupby": ["x"],
              "sort": {"field": "c"},
              "field": "y"
            }
          ]
        }
      ],

      "scales": [
        {
          "name": "x",
          "type": "band",
          "range": "width",
          "domain": {"data": "table", "field": "x"}
        },
        {
          "name": "y",
          "type": "linear",
          "range": "height",
          "nice": true, "zero": true,
          "domain": {"data": "table", "field": "y1"}
        },
        {
          "name": "color",
          "type": "ordinal",
          "range": "category",
          "domain": {"data": "table", "field": "c"}
        }
      ],

      "axes": [
        {"orient": "bottom", "scale": "x", "zindex": 1},
        {"orient": "left", "scale": "y", "zindex": 1}
      ],

      "signals": [
        {
          "name": "tooltip",
          "value": {},
          "on": [
            {"events": "rect:mouseover", "update": "datum"},
            {"events": "rect:mouseout", "update": "{}"}
          ]
        }
      ],

      "marks": [
        {
          "type": "rect",
          "from": {"data": "table"},
          "encode": {
            "enter": {
              "x": {"scale": "x", "field": "x"},
              "width": {"scale": "x", "band": 1, "offset": -1},
              "y": {"scale": "y", "field": "y0"},
              "y2": {"scale": "y", "field": "y1"},
              "fill": {"scale": "color", "field": "c"}
            },
            "update": {
              "fillOpacity": {"value": 1}
            },
            "hover": {
              "fillOpacity": {"value": 0.5}
            }
          }
        },
        // Check some simple tootip
        // {
        //   "type": "text",
        //   "encode":
        //   {
        //     "enter":
        //     {
        //       "align": {"value": "center"},
        //       "baseline": {"value": "bottom"},
        //       "fill": {"value": "#333"}
        //     }
        //   },
        //   "update":
        //   {
        //       "text": {"signal": "tooltip.d"}
        //   }
        // }
      ]
    };
  vegaEmbed("#vega_chart", chart_spec);
</script>

<script src="https://cdn.jsdelivr.net/npm/vega@4.0.0-rc.3"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@2.6.0"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@3.16.0"></script>

<!-- Vega lite -->
<script>

  var chart_spec = {
    "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
    "description": "A scatterplot showing horsepower and miles per gallons.",
    "data": {"url": "https://raw.githubusercontent.com/vega/vega-datasets/gh-pages/data/cars.json"},
    "selection": {"brush": {"type": "interval"}},
    "mark": "point",
    "encoding": {
      "x": {"field": "Horsepower", "type": "quantitative"},
      "y": {"field": "Miles_per_Gallon", "type": "quantitative"},
      "color": {"field": "Origin", "type": "nominal",
        "condition": {"selection": {"not": "brush"}, "value": "grey"}},
      "shape": {"field": "Origin", "type": "nominal"}
    }
  };
  vegaEmbed("#vega_lite_chart", chart_spec);
</script>
</body>
